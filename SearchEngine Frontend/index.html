<!doctype html>
<html>
  <head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <style>
      * {
        font-family: 'Open Sans';
      }
      /* Modes */
      body {
        transition: background-color 0.5s;
      }
      /* Light Mode Styles */
      body.light-mode {
        background-color: #fff;
        color: #000;
      }
      /* Dark Mode Styles */
      body.dark-mode {
        background-color: #1a1a1a;
        color: #fff;
      }
      /* Search CSS */
      .container h4{

        font-size: 120px;
        width: auto;
      }
      .container {
        width: 100%;
        min-height: 100vh;
        padding: 5%;
        background-image: none;
        background-position: center;
        background-size: cover;
        display: flex;
        align-items: center;
        justify-content: center;
        flex-direction: column;
      }
      .search-bar{
        width: 100%;
        max-width: 700px;
        background: rgba(225, 225, 225, 0.2);
        display: flex;
        align-items: center;
        border-radius: 40px;
        padding: 10px 20px;
        backdrop-filter: blur(4px) saturate(180%);
        transition: background-color 0.5s, color 0.5s;
      }
      .search-bar input{
        background: transparent;
        flex: 1;
        border: 0;
        outline: none;
        padding: 10px 20px;
        font-size: 14px;
        color: #565656;
        box-shadow: none;
      }
      .search-bar::placeholder {
        color: #565656;
      }
      .search-bar.dark-mode::placeholder {
        color: #f4efef;
      }
      .search-bar.dark-mode input {
        color: #f4efef;
      }
      .search-bar button img{
        width: 25px;
      }
      .search-bar button{
        border: 0;
        border-radius: 50%;
        width: 40px;
        height: 40px;
        background: rgba(225, 225, 225, 0.2);
        cursor: pointer;
      }
      .search-bar button:hover{
        background-color: #a0a5a6;
        box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.2);
      }
      /* Navbar CSS */
      .navbar .nav-item a:hover{
        background-color: #a0a5a6;
        border-radius: 7px;
        box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.2);
      }

    </style>
    <title>Advin</title>
    <meta charset="utf-8">
  </head>
  <body>
    <nav class="navbar navbar-expand-lg bg-body-tertiary">
      <div class="container-fluid">
          <ul class="navbar-nav me-auto mb-2 mb-lg-0">
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href=".">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="about.html">About</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="https://github.com/AnyUserNameNotAvailable/Search-Engine-Project">GitHub</a>
            </li>
          </ul>
          <ul class="navbar-nav ml-auto">
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="#" onclick="darkModeToggle()">Mode</a>
            </li>
          </ul>
        </div>
    </nav>
    <!--search-->
    <div class="container">
      <h4>&#10837</h4>
      <!-- <h5>ADVIN</h5> -->
      <form action="" class="search-bar">
        <input type="search" autocomplete="" placeholder="Advin: Your Adventure Awaits..." />
        <button>
          <img src="https://img.icons8.com/ios/25/search--v1.png" alt="search--v1"/>
        </button>
        </form>
      </div>
    </div>
      <script>
      //Java script for recent searches

      
      // JavaScript to toggle dark mode
      const body = document.body;

      const darkModeToggle = () => {
        body.classList.toggle('dark-mode');
        const isDarkMode = body.classList.contains('dark-mode');
        localStorage.setItem('darkMode', isDarkMode);
      };

      // Check for dark mode preference on page load
      document.addEventListener('DOMContentLoaded', () => {
        const savedDarkMode = localStorage.getItem('darkMode');
        if (savedDarkMode === 'true') {
          body.classList.add('dark-mode');
        }
      });  
      // search event on keypress
      document.addEventListener('DOMContentLoaded', () => {
        const searchInput = document.querySelector('.search input[type=search]');
        
        searchInput.addEventListener('keypress', function(event){
          if (event.key == 'Enter') {
            const query = searchInput.value;
            search_Backend(query)
          }

        });

      });

      // backend to frontend search and query

      function search_Backend(query){
        fetch(`http://localhost:9200/search?query=${query}`)
        .then(response => response.json())
        .then(data => {
          console.log(data);
        }).catch(error => {
          console.error('Error', error);
        });
      };

    </script>
  </body>
</html>